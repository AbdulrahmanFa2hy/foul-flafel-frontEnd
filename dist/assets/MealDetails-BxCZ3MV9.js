import{a as j,b as g,u as b,r as n,h as N,$ as v,j as e,M as D,s as w,t as I,a0 as k}from"./index-BtMgr77z.js";const $=({meal:s,onClose:u,onEdit:c,onDelete:d})=>{var x;const o=j(),{categories:m}=g(t=>t.categories),{stocks:i}=g(t=>t.stock),{t:a,i18n:h}=b(),r=h.language==="ar";n.useEffect(()=>{(!i||i.length===0)&&o(N())},[o,i]);const l=n.useMemo(()=>{var t;return s?{categoryName:v(s.categoryId,m),ingredientsCount:((t=s.ingredients)==null?void 0:t.length)||0,statusInfo:{label:s.isAvailable?a("mealDetails.available"):a("mealDetails.unavailable"),className:s.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}}:null},[s,m,a]),f=n.useCallback(()=>{c()},[c]),p=n.useCallback(()=>{d()},[d]);return!s||!l?null:e.jsx(D,{title:a("mealDetails.mealDetails"),onClose:u,size:"lg",children:e.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[e.jsxs("div",{className:`flex justify-end gap-2 pb-4 border-b border-gray-200 ${r?"flex-row-reverse":""}`,children:[e.jsxs("button",{type:"button",className:"px-4 py-2 rounded-md text-white font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-opacity-50 bg-primary-800 hover:bg-primary-900 focus:ring-primary-800/50 flex items-center",onClick:f,children:[e.jsx(w,{className:`${r?"ml-2":"mr-2"}`,size:14}),a("mealDetails.editMeal")]}),e.jsxs("button",{type:"button",className:"px-4 py-2 rounded-md text-white font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-opacity-50 bg-red-600 hover:bg-red-700 focus:ring-red-500 flex items-center",onClick:p,children:[e.jsx(I,{className:`${r?"ml-2":"mr-2"}`,size:14}),a("mealDetails.deleteMeal")]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"relative h-60 bg-gray-100 rounded-md overflow-hidden",children:e.jsx("img",{src:((x=s.image)==null?void 0:x.url)||"/placeholder-meal.jpg",alt:s.name,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("mealDetails.basicInformation")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[a("mealDetails.name"),":"]}),e.jsx("span",{className:"text-gray-800 font-semibold",children:s.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[a("mealDetails.category"),":"]}),e.jsx("span",{className:"text-gray-800 capitalize",children:l.categoryName})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[a("mealDetails.price"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-primary-800",children:[s.price," AED"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[a("mealDetails.status"),":"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.statusInfo.className}`,children:l.statusInfo.label})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:[a("mealDetails.ingredients")," (",l.ingredientsCount,")"]}),s.ingredients&&s.ingredients.length>0?e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:s.ingredients.map((t,y)=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("span",{className:"font-medium text-gray-800",children:k(t,i)}),e.jsxs("span",{className:"text-gray-600 bg-gray-100 px-2 py-1 rounded text-sm",children:[t.quantityUsed," ",t.unit]})]},`${t.stockItemId}-${y}`))}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 italic",children:a("mealDetails.noIngredientsListed")})})]})})]})]})})};export{$ as default};
