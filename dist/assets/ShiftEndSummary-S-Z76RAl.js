import{u as g,j as e}from"./index-DFNya1eu.js";function v({shift:t,onAcknowledge:i,showAcknowledgeButton:m=!1,onClose:c,showCloseButton:j=!1}){var o;const{t:s,i18n:d}=g(),l=d.language==="ar";if(!t)return null;const x=(t.startBalance||0)+(t.paymentWithCashBalance||0),a=(t.endBalance||0)-x,f=(t.paymentWithCashBalance||0)+(t.paymentWithVisaBalance||0),r=n=>`${(Number(n)||0).toFixed(2)} AED`,h=n=>new Date(n).toLocaleDateString(d.language==="ar"?"ar-AE":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",dir:l?"rtl":"ltr",children:e.jsxs("div",{className:"p-2 sm:p-6 pt-0",children:[e.jsx("div",{className:`flex justify-between items-center mb-6 ${l?"flex-row-reverse":""}`,children:j&&c&&e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),m&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸŽ‰"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:s("shiftSummary.shiftCompletedMessage")})]}),e.jsx("div",{className:`rounded-lg border-2 p-2 sm:p-6 mb-6 ${Math.abs(a)<.01?"bg-green-50 border-green-200":Math.abs(a)<=5?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-base sm:text-2xl font-bold text-gray-900 mb-2",children:Math.abs(a)<.01?s("shiftSummary.perfectBalance"):a>0?s("shiftSummary.cashOver"):s("shiftSummary.cashShort")}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4 max-w-md mx-auto",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("shiftSummary.expected")}),e.jsx("p",{className:"text-sm sm:text-lg font-bold",children:r(x)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("shiftSummary.actual")}),e.jsx("p",{className:"text-sm sm:text-lg font-bold",children:r(t.endBalance)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("shiftSummary.difference")}),e.jsxs("p",{className:`text-sm sm:text-lg font-bold ${Math.abs(a)<.01?"text-green-600":a>0?"text-blue-600":"text-red-600"}`,children:[a>0?"+":"",r(Math.abs(a))]})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h4",{className:`text-lg font-semibold text-gray-900 mb-4 ${l?"text-right":"text-left"}`,children:s("shiftSummary.shiftSummary")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[e.jsxs("div",{className:"space-y-3 text-start",children:[e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.cashier"),":"]}),e.jsx("span",{className:"font-medium",children:((o=t.cashierData)==null?void 0:o.name)||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.shiftStarted"),":"]}),e.jsx("span",{className:"font-medium",children:h(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.shiftEnded"),":"]}),e.jsx("span",{className:"font-medium",children:h(t.endedAt||t.updatedAt)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.duration"),":"]}),e.jsx("span",{className:"font-medium",children:(()=>{const n=new Date(t.createdAt),u=new Date(t.endedAt||t.updatedAt)-n,p=Math.floor(u/(1e3*60*60)),N=Math.floor(u%(1e3*60*60)/(1e3*60));return`${p}${s("shifts.hours")} ${N}${s("shifts.minutes")}`})()})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.totalOrders"),":"]}),e.jsx("span",{className:"font-medium",children:t.allOrdersCount||0})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.itemsSold"),":"]}),e.jsx("span",{className:"font-medium",children:t.soldItemsCount||0})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.unpaidOrders"),":"]}),e.jsx("span",{className:"font-medium text-orange-600",children:t.notPaidOrdersCount||0})]})]}),e.jsxs("div",{className:"space-y-3 text-start",children:[e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.startingBalance"),":"]}),e.jsx("span",{className:"font-medium",children:r(t.startBalance)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.endingBalance"),":"]}),e.jsx("span",{className:"font-medium",children:r(t.endBalance)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.cashPayments"),":"]}),e.jsx("span",{className:"font-medium text-green-600",children:r(t.paymentWithCashBalance)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.cardPayments"),":"]}),e.jsx("span",{className:"font-medium text-blue-600",children:r(t.paymentWithVisaBalance)})]}),e.jsxs("div",{className:"flex justify-between text-start",children:[e.jsxs("span",{className:"text-gray-600",children:[s("shiftSummary.totalSales"),":"]}),e.jsx("span",{className:"font-medium text-primary-600",children:r(f)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t text-start",children:[e.jsxs("span",{className:"text-gray-600 font-medium",children:[s("shiftSummary.cashVariance"),":"]}),e.jsxs("span",{className:`font-bold ${Math.abs(a)<.01?"text-gray-600":a>0?"text-green-600":"text-red-600"}`,children:[a>0?"+":"",r(Math.abs(a))]})]})]})]})]}),e.jsx("div",{className:"flex justify-center gap-4",children:m&&i&&e.jsx("button",{onClick:i,className:"px-8 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:s("shiftSummary.reviewedStartNew")})})]})})})}export{v as default};
